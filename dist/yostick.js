!function(t){function e(s,o){var i=this instanceof e?this:t.extend({},e.prototype),n=i,a=t.extend({scroller:".yostick__scroller",section:".yostick__section",sectionContent:".yostick__list",sectionHeaderWrapper:".yostick__section-header",sectionHeader:".yostick__section-header-in",sectionIsCollapsed:"_collapsed",sectionTitleIsSticked:"_sticked",sectionTitleIsHustled:"_hustled",collapseOnClick:!0},o);n.params=a,n.root=s,n.elements={scroller:s.find(a.scroller),sections:s.find(a.section)},n.data=n._getData(!0),n.listeners=[],n._getHandlers(),n._setListeners()}if("undefined"!=typeof window){var s={_getHandlers:function(){var e=this;e.listeners.push({eventType:"scroll",selector:e.params.scroller,handler:function(){var s=t(this);e._onScroll(s)}}),e.params.collapseOnClick&&e.listeners.push({eventType:"click",selector:e.params.sectionHeader,handler:function(){var s=t(this);e._onCollapse(s)}})},_setListeners:function(){for(var e=this,s=0,o=e.listeners.length;o>s;s++)t(e.listeners[s].selector).on(e.listeners[s].eventType,e.listeners[s].handler)},_getData:function(e){var s=this,o=[];return s.elements.sections.each(function(i){var n=t(this),a=n.find(s.params.sectionHeaderWrapper),r=n.find(s.params.sectionHeader);o[i]={element:r,position:a[0].offsetTop,width:a.outerWidth(),height:a.outerHeight()},e&&n.attr("data-yostick-section-id",i)}),o},_onScroll:function(){var t=this,e=t.elements.scroller.scrollTop();t._apply(t._getCurrentSection(e),e)},_getCurrentSection:function(t){for(var e,s,o=this,i=0,n=o.data.length;n>i;i++)if(e=o.data[i],s=o.data[i+1],e.position<t&&(s.position>t||i+1==n))return i},_apply:function(t,e){for(var s,o,i,n=this.params,a=this.data[t],r=this.data[t+1],l=0,c=this.data.length;c>l;l++)o=[],l==t?(i=0,o.push(n.sectionTitleIsSticked),r.position<e+a.height&&(i=r.position-e-a.height,o.push(n.sectionTitleIsHustled)),s={position:"absolute",top:0,width:this.data[l].width+"px",transform:"translateY("+i+"px)"}):s={position:"relative",top:"auto",transform:"none"},this.data[l].element.removeClass([n.sectionTitleIsSticked,n.sectionTitleIsHustled].join(" ")).addClass(o.join(" ")).css(s)},_onCollapse:function(t){var e,s,o=this,i=o.elements.scroller,n=i.scrollTop(),a=t.closest(o.params.section),r=+a.attr("data-yostick-section-id"),l=n;a.hasClass(o.params.sectionIsCollapsed)?a.removeClass(o.params.sectionIsCollapsed):a.addClass(o.params.sectionIsCollapsed),o.data=o._getData(),e=o.data[r],s=o.data[r+1],e.position<n?l=e.position:s&&s.position<n+e.height&&(l=s.position-n-e.height),i.scrollTop(l),o._apply(o._getCurrentSection(l),l)},update:function(){var t,e=this;e.elements={scroller:e.root.find(e.params.scroller),sections:e.root.find(e.params.section)},e.data=e._getData(!0),t=e.elements.scroller.scrollTop(),e._apply(e._getCurrentSection(t),t)}};e.prototype=s,window.yostick=e,t.fn.yostick=function(o){var i=arguments;return s[o]?this.each(function(){var t=this&&this.yostick;t&&s[o].apply(t,Array.prototype.slice.call(i,1))}):"object"!=typeof o&&o?void t.error("Unknown method: "+o):this.each(function(){this.yostick=new e(t(this),i)})}}}(jQuery);